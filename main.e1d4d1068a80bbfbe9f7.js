(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{L1EO:function(e,t,n){},O1XZ:function(e,t,n){var r=n("mp5j");e.exports=(r.default||r).template({1:function(e,t,r,a,i){var o;return null!=(o=e.invokePartial(n("h8BN"),t,{name:"./movieCard.hbs",data:i,indent:"  ",helpers:r,partials:a,decorators:e.decorators}))?o:""},compiler:[8,">= 4.3.0"],main:function(e,t,n,r,a){var i;return null!=(i=(e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]})(n,"each").call(null!=t?t:e.nullContext||{},t,{name:"each",hash:{},fn:e.program(1,a,0),inverse:e.noop,data:a,loc:{start:{line:1,column:0},end:{line:3,column:9}}}))?i:""},usePartial:!0,useData:!0})},QfWi:function(e,t,n){"use strict";n.r(t);n("L1EO"),n("hi3g"),n("/YXa"),n("lmye"),n("JBxO"),n("WoWj"),n("qoNQ"),n("U00V"),n("FdtR");var r="https://themoviedb.org/t/p/w220_and_h330_face",a="https://api.themoviedb.org/3",i="f8b94e020f7b56d4f675ed0dd6bb581c",o={fetchPopular:function(e){return void 0===e&&(e=""),fetch(a+"/movie/popular?api_key="+i+"&page="+e).then((function(e){return e.json()}))}},l=n("O1XZ"),s=n.n(l),c=r;function u(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}function h(e,t,n){var r=t.get(e);if(!r)throw new TypeError("attempted to set private field on non-instance");if(r.set)r.set.call(e,n);else{if(!r.writable)throw new TypeError("attempted to set read only private field");r.value=n}return n}var p=new WeakMap,v=function(){function e(e){p.set(this,{writable:!0,value:[]}),this.element=document.querySelector(e),h(this,p,[]),this.currentPage=1,this.totalPages=0,this.prevPage=this.prevPage.bind(this),this.nextPage=this.nextPage.bind(this)}var t,n,r,a=e.prototype;return a.prevPage=function(){var e=this;1!==this.currentPage&&(this.currentPage-=1,this.fetchMovies().then((function(t){var n=t.results;e.movies=e.convertMovieData(n)})))},a.nextPage=function(){var e=this;this.currentPage!==this.totalPages&&(this.currentPage+=1,this.fetchMovies().then((function(t){var n=t.results;e.movies=e.convertMovieData(n)})))},a.addMovies=function(e){this.movies=[].concat(this.movies,e)},a.convertMovieData=function(e){return e.map((function(e){return f(e)}))},a.fetchMovies=function(){return o.fetchPopular(this.currentPage).then((function(e){return{results:e.results,total_pages:e.total_pages}}))},a.mount=function(){var e=this;this.fetchMovies().then((function(t){var n=t.results,r=t.total_pages;e.movies=n.map((function(e){return f(e)})),e.totalPages=r}))},a.render=function(){this.element.innerHTML=s()(this.movies)},t=e,(n=[{key:"movies",get:function(){return function(e,t){var n=t.get(e);if(!n)throw new TypeError("attempted to get private field on non-instance");return n.get?n.get.call(e):n.value}(this,p)},set:function(e){e||console.error("Где список фильмов?"),h(this,p,e),this.render()}}])&&u(t.prototype,n),r&&u(t,r),e}(),f=function(e){var t,n=e.release_date,r=e.poster_path,a=e.original_title,i=e.vote_average;return{imgSrc:(t=r,""+c+t),title:a,rating:Math.round(i/10*100)+"%",releaseDate:n}},m=new v(".movie-list"),d=document.querySelector("#prev-page"),g=document.querySelector("#next-page");m.mount(),d.addEventListener("click",m.prevPage),g.addEventListener("click",m.nextPage)},h8BN:function(e,t,n){var r=n("mp5j");e.exports=(r.default||r).template({compiler:[8,">= 4.3.0"],main:function(e,t,n,r,a){var i,o=null!=t?t:e.nullContext||{},l=e.hooks.helperMissing,s=e.escapeExpression,c=e.lookupProperty||function(e,t){if(Object.prototype.hasOwnProperty.call(e,t))return e[t]};return'\n<div class="movie-card">\n    <div class="movie-card_inner">\n        <img src="'+s("function"==typeof(i=null!=(i=c(n,"imgSrc")||(null!=t?c(t,"imgSrc"):t))?i:l)?i.call(o,{name:"imgSrc",hash:{},data:a,loc:{start:{line:4,column:18},end:{line:4,column:28}}}):i)+'" alt="movie poster" class="movie-card_poster">\n        <div class="movie-card_rating">'+s("function"==typeof(i=null!=(i=c(n,"rating")||(null!=t?c(t,"rating"):t))?i:l)?i.call(o,{name:"rating",hash:{},data:a,loc:{start:{line:5,column:39},end:{line:5,column:49}}}):i)+'</div>\n        <h2 class="movie-card_title">'+s("function"==typeof(i=null!=(i=c(n,"title")||(null!=t?c(t,"title"):t))?i:l)?i.call(o,{name:"title",hash:{},data:a,loc:{start:{line:6,column:37},end:{line:6,column:46}}}):i)+'</h2>\n        <time class="movie-card_date">'+s("function"==typeof(i=null!=(i=c(n,"releaseDate")||(null!=t?c(t,"releaseDate"):t))?i:l)?i.call(o,{name:"releaseDate",hash:{},data:a,loc:{start:{line:7,column:38},end:{line:7,column:53}}}):i)+"</time>\n    </div>\n</div>"},useData:!0})}},[["QfWi",1,2]]]);
//# sourceMappingURL=main.e1d4d1068a80bbfbe9f7.js.map